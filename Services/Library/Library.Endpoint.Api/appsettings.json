{
  "DatabaseConnection": {
    "SqlConnection": "Data Source=localhost;Initial Catalog=dbLibraryMicroservice;User ID=sa; Password=Abcd@1234;Integrated Security=false;MultipleActiveResultSets=true;TrustServerCertificate=True",
    "PostgresConnection": "User ID=postgres;Password=postgres;Host=localhost;Port=5432;Database=dbLibrary;Pooling=true;"
  },
  "Swagger": {
    "Title": "Public Library",
    "Version": "v1",
    "Description": "A sample API for Public Libraries management",
    "RoutePrefix": "swagger",
    "BearerDescription": "Enter 'Bearer' [space] and then your valid JWT token.\n\nExample: \"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6...\"",
    "Contact": {
      "Name": "Meysam Ghiasvand",
      "Email": "meysam.ghiasvand@gmail.com",
      "Url": "https://www.google.com"
    },
    "License": {
      "Name": "MIT",
      "Url": "https://opensource.org/licenses/MIT"
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Error",
      "Override": {
        "Microsoft": "Error",
        "System": "Error"
      }
    },
    "Using": [
      "Serilog.Sinks.Console",
      "Serilog.Sinks.Elasticsearch",
      "Serilog.Sinks.MSSqlServer"
    ],
    "Enrich": [
      "WithClientIp",
      "FromLogContext",
      "WithMachineName",
      "WithProcessId",
      "WithThreadId"
    ],
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} <s:{SourceContext}>{NewLine}{Exception}",
          "restrictedToMinimumLevel": "Verbose",
          "formatter": "Serilog.Formatting.Json.JsonFormatter, Serilog",
          "theme": "Serilog.Sinks.SystemConsole.Themes.AnsiConsoleTheme::Code, Serilog.Sinks.Console"
        }
      },
      {
        "Name": "Elasticsearch",
        "Args": {
          "nodeUris": "http://localhost:9200",
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} <s:{SourceContext}>{NewLine}{Exception}",
          "restrictedToMinimumLevel": "Verbose",
          "formatter": "Serilog.Formatting.Json.JsonFormatter, Serilog"
        }
      },
      {
        "Name": "File",
        "Args": {
          "restrictedToMinimumLevel": "Verbose",
          "path": "../Logs/log_.txt",
          "formatter": "Serilog.Formatting.Json.JsonFormatter, Serilog",
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} <s:{SourceContext}>{NewLine}{Exception}",
          "rollingInterval": "Day"
        }
      },
      {
        "Name": "Seq",
        "Args": {
          "serverUrl": "http://localhost:5341",
          "formatter": "Serilog.Formatting.Json.JsonFormatter, Serilog",
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} <s:{SourceContext}>{NewLine}{Exception}"
        }
      },
      {
        "Name": "MSSqlServer",
        "Args": {
          "connectionString": "Data Source=localhost;Initial Catalog=dbLibraryMicroservice;User ID=sa; Password=Abcd@1234;Integrated Security=false;MultipleActiveResultSets=true;TrustServerCertificate=True",
          "tableName": "Logs",
          "schemaName": "log",
          "autoCreateSqlTable": true,
          "restrictedToMinimumLevel": "Verbose",
          "columnOptionsSection": {
            "addStandardColumns": [ "LogEvent", "MessageTemplate", "Properties", "Level", "Timestamp", "Exception" ]
          }
        }
      }

    ]
  },
  "TokenOptions": {
    "Audience": "securityProject@mgh.com",
    "Issuer": "meysam.ghiasvand.com",
    "AccessTokenExpiration": 180000,
    "SecurityKey": "aVeryLongAndSecureSecurityKeyThatIsAtLeast64CharactersLongAndHardToGuess",
    "RefreshTokenTtl": 600000
  },
  "RedisConnections": {
    "DefaultConfiguration": {
      "Host": "127.0.0.1",
      "Password": "123456",
      "Port": "6379",
      "AllowAdmin": true,
      "ConnectRetry": 5,
      "AbortOnConnectFail": false,
      "DefaultDatabase": 0,
      "ConnectTimeout": 100000,
      "InstanceName": ""
    }
  },
  "ElasticSearchConfig": {
    "ConnectionString": "http://localhost:9200",
    "Password": "",
    "UserName": "",
    "Indices": [
      {
        "indexName": "libraries",
        "replicaCount": 2,
        "shardNumber": 4,
        "aliasName": "libraryIndex"
      }
    ]
  },
  "RabbitMq": {
    "Connections": {
      "Default": {
        "Host": "localhost",
        "Port": "5672",
        "Username": "guest",
        "Password": "guest",
        "VirtualHost": "/",
        "ReceiveEndpoint": ""
      }
    },
    "EventBus": {
      "QueueName": "library.queue",
      "ExchangeName": "library.exchange",
      "ExchangeType": "direct",
      "DeadLetterTtl": 300000,
      "EndToEndExchangeBindings": [
        {
          "DestinationExchange": "",
          "SourceExchange": "",
          "RoutingKey": ""
        }
      ],
      "RoutingKeys": {
        "common": "common",
        "LibraryCreatedDomainEvent": "public-library.lib-created",
        "LendingCreatedDomainEvent": "public-library.lending-created"
      }
    }
  },
  "Cors": {
    "AllowedOrigins": [
      "http://localhost:5173"
    ]
  }
}
